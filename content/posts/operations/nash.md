---
title: "纳什均衡与相关均衡"
date: 2021-01-01
draft: false
slug: nash-corr
categories: ["运筹与优化"]
tags: ["博弈论"]
# 四个大类: 分析与概率, 算法与程序设计, 运筹与优化, 论文简读
---


<!-- #! https://zhuanlan.zhihu.com/p/367426959

# 纳什均衡与相关均衡 -->


## 策略


博弈论中的策略有纯策略和混合策略之分。但是它们可以有统一的数学逻辑。

参与人集合$N$，每个人$i\in N$都有一个行动集合$A_i$，记$A=\times_{i=1}^N A_i$是行动集合的笛卡尔积，决策时，参与者$i$从$A_i$中选出一个$a_i$，所有人的决策构成一个行动组合$a=(a_j)_{j\in N}$。

定义$\Delta (A_i)$表示$A_i$上所有概率分布的集合，则纯策略和混合策略都是$\Delta (A_i)$内的元素。

我们可以策略看成是一个概率向量($\mathbf{1}^Tp=1$)，则纯策略就是一个“退化”的混合策略了。

对任一 $a_{-i} \in A_{-i}$ 定义 $B_{i}\left(a_{-i}\right)$ 为参与人 $i$ 在给定 $a_{-i}$ 下最佳行动集合（best response）。

对于全体参与者，可以定义集值函数$B=\times_{i=1}^N B_i: A\to A$。对纳什均衡，就是：$a^{\ast} \in B\left(a^{\ast}\right)$。翻译过来就是，每个玩家的策略，都是对其他玩家策略的最佳反应。

> 集值函数，其实就是一个多值函数，这时候我们把它的值域看成是一个集类。

因此，纳什均衡的存在性，即等价于集值映射$B$是否存在不动点。


##  纳什均衡


最简单的纳什均衡（Nash equilibrium, NE）是纯策略纳什均衡，如果所有的参与者都有**无限策略**，那么纯策略纳什均衡的存在性是可以保证的。

Nash定理，作为一个非常著名的定理，说的是任何一个有限策略博弈都存在混合策略纳什均衡。

除去大家都熟知的纳什均衡，还有其它均衡的概念。


## 强纳什均衡


顾名思义，强纳什均衡（strong Nash equilibrium, SNE）就是比纳什均衡更强的概念，它指的是，在纳什均衡的基础上，没有子联盟愿意改变自己的策略以换来每个人更高的收益。

囚徒困境存在一个纯策略纳什均衡，但它不是强纳什均衡，因为这两名囚徒可以组成“子联盟”来提高每个人的收益。

强纳什均衡往往在多人博弈中被研究，比如稳定婚姻问题：考虑$n$个男人和$n$个女人，每个人对异性都有严格的偏好，他们配对以后，如果没有一组夫妻愿意交换他们的伴侣，那么这一组婚姻就被认为是稳定的。

通俗点说，如果形成了强纳什均衡，就不会存在你和隔壁老王互相觉得对方的老婆更漂亮的情况。


## 相关均衡


相关均衡（correlated Equilibrium, CE）是一个比纳什均衡更弱的概念。数学一点说，相关均衡就是行动集$A$上的一个概率分布。当然，这个概率分布还需要满足一些条件。

先解释$A$上的概率分布这件事情，如下是一个对称博弈：

$$
\begin{array}{|c|c|c|}\hline & d & c \\\hline d & 0,0 & 4,1 \\\hline c & 1,4 & 3,3 \\\hline\end{array}\\\\
$$

显然，$(1, 4)$和$(4, 1)$是博弈的两个纯策略纳什均衡，此外，每个玩家以$\frac{1}{2}$的概率选$c$或$d$是一个混合策略纳什均衡。

假如说这时候有一个上帝，对这两个玩家说，你们两个人的行动，一共有4种情况，你们按如下的概率分布去进行吧：

$$
\begin{array}{|c|c|c|}\hline & d & c \\\hline d & 0 & 3 / 8 \\\hline c & 3 / 8 & 1 / 4 \\\hline\end{array}\\\\
$$

上帝以相应的概率从$(c, d), (c, c), (d, c)$中选择一个，然后分别建议这两个玩家按照自己的指示去做抉择。

这时候，两个玩家会遵从上帝的指示吗？

我们先站在玩家一（row player）的立场上去看一下，“假如玩家二（column player）是听话的，如果上帝让我选$c$，这时候玩家二选$c, d$的概率分别是$\frac{3}{5}, \frac{2}{5}$，我选$c$的期望得益是$\frac{9}{5}$，选$d$的期望得益是$\frac{8}{5}$，所以我会选择听从上帝的指示。又如果上帝让我选$d$，这时候玩家二必然选$c$，我选择$d$的得益是$4$，选$c$的得益是$3$，所以我也会听从。”

所以，如果有这样一个比较有权威的第三方能够给出一些合理的意见，就可以规避混合策略纳什均衡中出现$(d, d)$双方得益都为0这种情况，从而提高整个系统的收益情况。

值得注意的是，纳什均衡也是相关均衡，它可以看做是相关均衡的特殊情况。（混合策略）纳什均衡下每个玩家做出选择都是**独立**的。

对一个有$n$个玩家，每个玩家两种行为的博弈来说，它的纳什均衡涉及$2n$个数，但是相关均衡有$2^n$个数。

从数学上说，相关均衡是行动集合$A$上的一个概率分布$\mathcal{D}$，使得对于任何的玩家$i$和行动$a^*_i$，都有：

$$
\mathrm{E}_{a \sim \mathcal{D}}\left[u_{i}(a) \mid a_i\right] \geq \mathrm{E}_{a \sim \mathcal{D}}\left[u_{i}\left(a_{i}^{\ast}, a_{-i}\right) \mid a_{i}\right], \quad \forall i, a^\ast_i\\
$$

## 粗糙相关均衡

如果把对$a_i$取条件期望拿掉，就是粗糙相关均衡（coarse correlated equilibrium）：

$$
\mathrm{E}_{a \sim \mathcal{D}}\left[u_{i}(a) \right] \geq \mathrm{E}_{a \sim \mathcal{D}}\left[u_{i}\left(a_{i}^{\ast}, a_{-i}\right) \right], \quad \forall i, a^\ast_i\\
$$

相关均衡在收到上帝给的指令后，每个玩家会自发地听从指令。而粗糙相关均衡是知道概率分布之后，哪怕还没接收到一个具体的指令时就表示会服从这个指令。

以下是粗糙相关均衡的一个示例：

$$
\begin{array}{|c|c|c|c|}\hline & \mathrm{A} & \mathrm{B} & \mathrm{C} \\\mathrm{A} & (1,1) & (-1,-1) & (0,0) \\\mathrm{B} & (-1,-1) & (1,1) & (0,0) \\\mathrm{C} & (0,0) & (0,0) & (-1.1,-1.1) \\\hline\end{array}\\
$$

这个博弈行动集上的一个概率分布如下：

$$
\begin{array}{|c|c|c|c|}\hline & \mathrm{A} & \mathrm{B} & \mathrm{C} \\\mathrm{A} & 1 / 3 & & \\\mathrm{~B} & & 1 / 3 & \\\mathrm{C} & & & 1 / 3 \\\hline\end{array}\\
$$

首先它不是一个相关均衡，因为上帝如果掷出了$(C, C)$，两个玩家的都会选择不听从。

但是在上帝随机做选择之前，如果玩家一决定服从上帝的协调，那么玩家二最优的选择也是服从协调。

容易看出，粗糙相关均衡是一种比相关均衡更弱的概念。它与相关均衡的区别，可以这样理解：你聘请了一个理财顾问，每年都会给你规划资产配置的方案，你看过方案之后决定听从建议（相关均衡），或者没看方案就决定听从建议（粗糙相关均衡）。

## 总结


本文总结了博弈论中均衡的概念。从强到弱分别是 SNE > NE > CE > CCE。