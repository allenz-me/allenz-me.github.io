---
title: "随机个随机变量的和的性质"
date: 2021-01-01
draft: false
categories: ["分析与概率"]
tags: ["随机变量", "矩母函数"]
# 四个大类: 分析与概率, 算法与程序设计, 运筹与优化, 论文简读
---


<!-- #! https://zhuanlan.zhihu.com/p/421364730

# 随机个随机变量的和的性质 -->

设 $Y_1, Y_2, ...$ 是独立同分布且二阶矩有限的随机变量，$N$ 是一个与 $Y$ 独立且取值为正整数的随机变量。令：

$$
X = Y_1 + Y_2 + ... + Y_N
$$

这里 $X$ 是随机个独立同分布随机变量的和。那么，$X$ 的方差和期望该如何计算呢？

首先，由条件期望公式，我们知道 $E[X] = E[E[X|N]]$，在给定 $N$ 时，$E[X|N] = N E[Y]$，所以：

$$
E[X] = E[N] \cdot E[Y] \\
$$

计算 $X$ 的方差，需要借助条件方差公式；条件方差，跟条件期望一样，它也是一个随机变量，其定义如下：

$$
var(X|Y) = E[(X - E[X|Y])^2|Y] = E[X^2|Y] - E^2[X|Y] \\
$$

条件方差公式如下：

$$
var(X) = E[var(X|Y)] + var(E[X|Y])
$$

这个公式把右边展开一下就能证了。

应用条件方差公式:

$$
var(X) = E[var(X|N)] + var(E[X|N])
$$

其中：
$$
E[var(X|N)]=E[var(Y) \cdot N]=var(Y)\cdot E[N] \\
var(E[X|N]) = var(N\cdot E[Y]) = var(N) \cdot E^2[Y] \\
$$

于是：

$$
var(X) = var(Y)\cdot E[N] + var(N) \cdot E^2[Y] \\
$$

现在问题来了，$X$ 的高阶矩怎么计算呢？

高阶矩没有类似的公式（我不知道），所以，这个计算可能需要我们回归高阶矩计算的内在方法————矩母函数。

$$
m_X(t) = E[e^X] = E[E[e^X|N]] = E[(m_Y(t))^N] \\
$$

对 $m_X(t)$ 求导，期望相当于积分，因此应用积分求导公式有：

$$
m^\prime_X(t) = E[N(m_Y(t))^{N-1}m_Y^\prime (t)]\\
$$

计算在 $t=0$ 处的值，即有：$E[X] = E[N]E[Y]$。高阶矩可以类似计算，但注意要加上条件：$N, Y$ 的高阶矩也是存在的。
